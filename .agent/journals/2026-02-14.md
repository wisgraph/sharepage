# 📔 개발 저널 2026-02-14

## 🕒 09:30 작업 기록
- **[Bug] 유튜브 노트 오픈그래프 이미지 추출 오류 수정**:
    - 프런트매터의 플레이스홀더(`(입력된 URL 없음)`)가 유효한 주소로 인식되어 본문 유튜브 링크 추출 로직이 무시되던 문제 해결.
    - `source_type: YouTube` 필드 감지 시 본문에서 유튜브 ID를 강제 추출하는 Fallback 로직 추가.
    - 유튜브 썸네일 사용 시 `og:type`을 `video.other`로 자동 설정하여 SNS 미리보기 최적화.

- **[Refactor] sync.js 코드 품질 개선 및 가이드라인 준수**:
    - `.agent/rules.md`의 "예측 가능한 코드" 원칙에 따라 거대 함수(`generateStaticHtml`)를 작은 단위 함수(`extractDescription`, `extractOgImage`, `applyMetadataToTemplate` 등)로 분리.
    - 단일 책임 원칙(SRP)과 추상화 수준 맞추기(SLAP) 적용으로 코드 가독성 및 유지보수성 향상.

- **[Bug] 정적 HTML 자산 로드 404 오류 수정**:
    - 리팩토링 과정에서 잔존했던 상대 경로 수정 로직(`../` 추가)이 `<base>` 태그와 충돌하여 자산 경로가 깨지던 현상 해결.
    - 불필요한 경로 수정 로직을 제거하여 루트 자산 로드 안정화.

## 🕒 09:40 작업 기록
- **[Refactor] JS 디렉토리 구조 최적화 및 레거시 파일 제거**:
    - `js/` 루트에 존재하던 10여 개의 레거시 래퍼 파일(`toc.js`, `utils.js` 등) 및 `js/dashboard/` 디렉토리를 완전히 제거.
    - `router.js`를 `js/core/router.js`로 이동하여 계층화 아키텍처(Layered Architecture) 완성.
    - 모든 내부 import 경로를 새로운 디렉토리 구조(`core`, `services`, `views`)에 맞게 전수 업데이트.
    - `js/` 루트 디렉토리에 진입점인 `app.js`만 남겨두어 프로젝트 구조의 간결함 확보.

## 🕒 09:50 작업 기록
- **[Refactor] 코드 품질 개선 (Predictable Code & SLAP 적용)**:
    - **Service 계층 최적화**: `docService.js`의 거대 함수를 분리(SLAP)하고, `renderService.js`의 수학 공식 처리 로직에서 전역 상태를 제거하여 순수 함수화(Pure Function).
    - **계층 간 책임 분리**: `dashboardController.js`와 `themeController.js`에 혼재되어 있던 DOM 조작 로직을 각각의 View 계층(`dashboardView.js`, `themeView.js`)으로 이관.
    - **복잡도 감소**: `markdownService.js`의 프런트매터 파싱 로직을 의미 단위로 분리하여 가독성 확보.
    - **라우터 구조 개선**: `router.js`의 경로 정규화 및 리다이렉트 로직을 함수로 추출하여 메인 흐름 명확화.
